@use "functions" as *;

/// Generates CSS custom properties for each key-value pair in the provided map, handeling nested maps as required.
///
/// @param {Map} $map - A map of key-value pairs to generate custom properties for.
///
/// @example
///   @include custom-properties((
///     color-primary: #007bff,
///     color-secondary: #6c757d,
///     font-size-base: 1rem
///   ));
///
// @mixin custom-properties($map) {
//   @each $key, $value in $map {
//     --#{$key}: #{$value};
//   }
// }
@mixin custom-properties($map, $prefix: '') {
  @each $key, $value in $map {
    @if type-of($value) == 'map' {
      @include custom-properties($value, $key);
    } @else {

    @if $key != "" {
      // if the string $prefix does not end with '-'
      @if not ends-with($prefix, "-") and $prefix != "" {
        $prefix: $prefix + "-";
        }
      }
      --#{$prefix}#{$key}: #{$value};
    }
  }
}
